<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}"
>
<head>
    <title>Ecommerce Store</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet"  media="all" th:href="@{/css/style.css}" />
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            crossorigin="anonymous">
</head>
<body>
<section layout:fragment="content">
<div class="container mt-4">
    <div th:if="${successMessage}" class="alert alert-success" th:text="${successMessage}"></div>
    <div th:if="${failureMessage}" class="alert alert-danger" th:text="${failureMessage}"></div>
    <div th:if="${updateSuccess}" class="alert alert-success" th:text="${updateSuccess}"></div>
    <div th:if="${updateFailure}" class="alert alert-danger" th:text="${updateFailure}"></div>
    <div th:if="${titleError}" class="alert alert-danger" th:text="${titleError}"></div>
    <div th:if="${descriptionError}" class="alert alert-danger" th:text="${descriptionError}"></div>
    <div th:if="${brandError}" class="alert alert-danger" th:text="${brandError}"></div>
    <p class="text-center fs-1 fs-md-3 fs-lg-5" th:text="${productHeader}">Text</p>
    <div class="table-responsive rounded">
        <table class="table table-striped table-dark table-bordered mb-0">
            <thead>
            <th>Brand</th>
            <th>Title</th>
            <th>Description</th>
            <th>Image</th>
            <th>Category</th>
            <th>Update</th>
            <th>Delete</th>
        </thead>
          <tr th:each="product:${products}">
              <td th:text="${product.brand}"></td>
              <td th:text="${product.title}"></td>
              <td th:text="${product.description}"></td>
              <td ><img height="70" width="70" alt="no image file" th:src="@{'/downloads/'+${product.productId}+'.png'+ '?v=' + ${#dates.createNow().time}}"/></td>
              <td th:text="${product.category}"></td>
              <td ><button class="bg-primary rounded" type="submit"><a  th:href="@{'/products/update/'+${product.productId}}">Update</a></button></td>
              <td ><button class="bg-danger rounded" type="submit"><a  th:href="@{'/products/delete/'+${product.productId}}">Delete</a></button></td>
          </tr>
        </table>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</section>
</body>


</html>